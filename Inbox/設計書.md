# 基本設計書
```
設計書1
---------------------------
### 1. システム構築方針
1.1. システム開発の狙い
本システムを開発することで病院における従業員や患者の管理、処方した薬の管理など省力化できるようにする。

### 2. 制約条件・前提条件
【前提条件】
 本システムは Web ブラウザで操作するものとする。
 Web ブラウザについては基本的に使用の制限はしない。
【制約条件】
 ログインする ID をロール単位で管理し、ロール単位で機能の使用制限を行う。
 セキュリティ確保のため、従業員のパスワードはハッシュ処理を行い、データベースへの保存はハッシュ化したデータを保存するものとする。

### 3. システム概要
3.1. 適用業務範囲
本システムの適用範囲は以下のとおりである
 従業員管理業務
 病院管理業務
 薬剤仕入れ先管理業務
 患者管理業務
 薬剤・処置管理業務

3.2. システム化の考え方
Web ブラウザを使用した3層クライアントサーバシステムの形式をとる。

### 5. 機能設計
5.1. 機能一覧
|No|サブシステム ID/機能 ID|サブシステム名/機能名|説明|
||L100|ログイン||
|1|L101|ログイン機能|ログイン画面からログインを行う機能|
||E100|従業員管理||
|2|E101|従業員登録機能|従業員の氏名、生年月日、住所、電話番号、メールアドレス、パスワードを入力し、従業員を登録する機能|
|3|E102|従業員更新機能|従業員の氏名、生年月日、住所、電話番号、メールアドレス、パスワードを変更する機能|
|4|E103|従業員パスワード変更機能|従業員のパスワードを変更する機能|
||H100|他病院管理||
|5|H101|他病院登録機能|病院の名称、住所、電話番号、メールアドレス、資本金を入力し、病院を登録する機能|
|6|H102|他病院一覧表示機能|登録されている病院の一覧を表示する機能|
|7|H103|住所→他病院検索機能|住所を入力し、検索結果から病院を検索する機能|
|8|H104|資本金→他病院検索機能|資本金を入力し、検索結果から病院を検索する機能|
|9|H105|他病院情報変更機能|指定した病院の電話番号、メールアドレス、資本金を変更する機能|
||S100|仕入れ先管理||
|10|S101|仕入れ先登録機能|仕入れ先の名称、住所、電話番号、メールアドレス、資本金を入力し、仕入れ先を登録する機能|
|11|S102|仕入れ先一覧表示機能|登録されている仕入れ先の一覧を表示する機能|
|12|S103|住所→仕入れ先検索機能|住所を入力し、検索結果から仕入れ先を検索する機能|
|13|S104|資本金→仕入れ先検索機能|資本金を入力し、検索結果から仕入れ先を検索する機能|
|14|S105|仕入れ先情報変更機能|指定した仕入れ先の電話番号、メールアドレス、資本金を変更する機能|
||P100|患者管理||
|15|P101|患者登録機能|患者の氏名、生年月日、住所、電話番号、メールアドレス、保険証番号、保険証有効期限を入力し、患者を登録する機能|
|16|P102|患者保険証変更機能|患者の保険証番号、保険証有効期限を変更する機能|
|17|P103|患者名検索機能|患者の氏名を入力し、検索結果から患者を検索する機能|
|18|P104|保険証期限確認機能|保険証の有効期限が切れている患者を一覧表示する機能|
||D100|薬剤・処置管理||
|19|D101|薬投与指示機能|患者に対して薬剤投与の指示を行う機能|
|20|D102|薬投与削除機能|患者に対して指示した薬剤投与を削除する機能|
|21|D103|処置確定機能|投与した薬剤の処置を確定する機能|
|22|D104|処置履歴確認機能|患者を指定し、過去の処置履歴を確認する機能|

### 8. データベース設計
No ID テーブル名称 説明
1 T001 他病院 病院情報の管理
2 T002 仕入れ先 薬剤仕入れ先の管理
3 T003 従業員 従業員(医師・受付)の管理
4 T004 患者 患者の管理
5 T005 薬剤 薬剤の管理
6 T006 処置 処置結果の管理
```
# システム構築総合演習_課題①
```
設計書2
---------------------------
【システム概要】
このシステムは、病院における従業員や患者の管理、処方した薬の管理などを行うシステムである。

【システムの想定利用者（アクタ）】
管理者：病院の経営側。事務長など
従業員：病院で雇われて働き、システムを利用する人
受付：従業員で受付を行う人
医師：従業員で医療行為を行う人

【システム詳細】
管理者はユーザIDとパスワードでログインする。パスワードはハッシュ化される必要はない
管理者はユーザを登録できる。このとき、受付か医師かを分けて登録することができる。
管理者は全ての機能を利用できるものとする。

従業員はユーザIDとパスワードでログインする。パスワードはハッシュ化する必要がある
従業員は自身の情報を変更することができる
従業員は受付か医師かによって、ログイン後に扱える機能が異なる（表示されるページでコントロール）

受付は患者を新規登録できる。患者の登録すべき情報は別途指示する。
受付は患者の情報を変更できる。

医師は患者を全件検索できる。
医者は、選択した患者に対し、処置（薬を投与）を指示できる（指示を実施するのは、医者自身か看護師）。
処置内容が確定されると、DBに登録される。

【課題内容】
システムを完成させなさい（画面レイアウトは任意とするが、機能要件を満たしている必要がある）。
上記の内容は「医療機関向け医師・受付・患者管理システム基本設計書」にまとめているが、上記内容及び基本設計書両方を参照し完成させること。

【その他留意事項】
アクタごと（管理者と従業員）のプロジェクトを分けてそれぞれ新規に作成すること（わかりやすい名前にすること）
プロジェクト間で共通するクラスも、別々に作成することにする（片方のプロジェクトからもう一方のプロジェクトを利用することもできるが分けたほうが問題を閉じ込めやすいので）
ローマ数字I～XIの機能を作成する。

【機能補足一覧】
I.	ログイン機能 手間を考えてハッシュ化は必須ではない-管理者
II.	従業員登録機能 パスワードはハッシュ化されること-管理者
III.	ログイン機能 パスワードはハッシュ化されること-従業員(受付)
IV.	従業員情報変更機能（パスワード） 登録データはセッション経由で登録-従業員(受付)
V.	患者登録機能 登録データはセッション経由で登録-従業員(受付)
VI.	患者管理機能：患者テーブルの保険証情報変更 登録データはセッション経由で登録-従業員(受付)
VII.	ログイン機能 パスワードはハッシュ化されること-従業員(医師)
VIII.	患者検索（全件） 登録データはセッション経由で登録-従業員(医師)
IX.	薬投与指示（追加）　カートに追加するようなイメージ 登録データはセッション経由で登録-従業員(医師)
X.	薬投与削除（削除）　カートから削除するようなイメージ 登録データはセッション経由で登録-従業員(医師)
XI.	処置確定 登録データはセッション経由で登録。　１つの画面で、複数の薬投与指示ができれば加-従業員(医師)点。

※パスワード変更は2か所入力させ、一致するかもチェックすること
```
# 課題①実装機能対応表_R4A1
```
設計書3
---------------------------
1.右のテーブルを追加し一覧表示-追加マスタ表を一覧表示する-A) 他病院TBL-管理者
2.1の表に対し-追加マスタ表に1件追加する-C) レコード追加を行う機能-管理者
3.1の表に対し-追加マスタ表を住所検索する-E) 住所検索（部分一致）できる機能-管理者
4.従業員テーブルに対し-従業員の氏名を変更する-H) 従業員表の氏名変更ができる機能-管理者
5.患者検索-保険証の期限が切れている患者を検索する-L) 保険証が切れている患者の検索ができる機能-従業員(受付)
```

|No|サブシステム ID/機能 ID|サブシステム名/機能名|説明|
|---|---|---|---|
||L100|ログイン||
|1|L101|ログイン機能|ログイン画面からログインを行う機能|
||E100|従業員管理||
|2|E101|従業員登録機能|従業員の氏名、生年月日、住所、電話番号、メールアドレス、パスワードを入力し、従業員を登録する機能|
|3|E102|従業員更新機能|従業員の氏名、生年月日、住所、電話番号、メールアドレス、パスワードを変更する機能|
|4|E103|従業員パスワード変更機能|従業員のパスワードを変更する機能|
||H100|他病院管理||
|5|H101|他病院登録機能|病院の名称、住所、電話番号、メールアドレス、資本金を入力し、病院を登録する機能|
|6|H102|他病院一覧表示機能|登録されている病院の一覧を表示する機能|
|7|H103|住所→他病院検索機能|住所を入力し、検索結果から病院を検索する機能|
|8|H104|資本金→他病院検索機能|資本金を入力し、検索結果から病院を検索する機能|
|9|H105|他病院情報変更機能|指定した病院の電話番号、メールアドレス、資本金を変更する機能|
||S100|仕入れ先管理||
|10|S101|仕入れ先登録機能|仕入れ先の名称、住所、電話番号、メールアドレス、資本金を入力し、仕入れ先を登録する機能|
|11|S102|仕入れ先一覧表示機能|登録されている仕入れ先の一覧を表示する機能|
|12|S103|住所→仕入れ先検索機能|住所を入力し、検索結果から仕入れ先を検索する機能|
|13|S104|資本金→仕入れ先検索機能|資本金を入力し、検索結果から仕入れ先を検索する機能|
|14|S105|仕入れ先情報変更機能|指定した仕入れ先の電話番号、メールアドレス、資本金を変更する機能|
||P100|患者管理||
|15|P101|患者登録機能|患者の氏名、生年月日、住所、電話番号、メールアドレス、保険証番号、保険証有効期限を入力し、患者を登録する機能|
|16|P102|患者保険証変更機能|患者の保険証番号、保険証有効期限を変更する機能|
|17|P103|患者名検索機能|患者の氏名を入力し、検索結果から患者を検索する機能|
|18|P104|保険証期限確認機能|保険証の有効期限が切れている患者を一覧表示する機能|
||D100|薬剤・処置管理||
|19|D101|薬投与指示機能|患者に対して薬剤投与の指示を行う機能|
|20|D102|薬投与削除機能|患者に対して指示した薬剤投与を削除する機能|
|21|D103|処置確定機能|投与した薬剤の処置を確定する機能|
|22|D104|処置履歴確認機能|患者を指定し、過去の処置履歴を確認する機能|